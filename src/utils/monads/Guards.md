# Guards 
"Стража" - монада организованная по типу `Guards Operator` в `Haskell` (отсюда и название).
Работает так же как и `switch` - выполняет одно из подходящих условий, если ни одно из условий не подошло,
у монады есть аналог `default` - `otherwise`.
## API
### ap
Позволяет "применить" функцию в состоянии к переданному значению.
Если в состоянии не функция - ничего не произойдет.
```js
Guards(console.log)
.ap(10) // выведет в консоль "10", состояние станет undefined (возвращаемое значение console.log)
.of(10) // смена состояния на 10
.ap(10) // ничего не произойдет - в состоянии не функция
```

### of
Применяется для смены состояния, независимо от текущего состояния:
```js
Guards(1) // состояние 1
.of(5) // состояние стало 5
```

### getValue
Извлечение состояние из монады:
```js
Guards(1) // состояние 1
.getValue() // получили 1
```

### toMaybe
Смена монады, бывает удобно, если нужен другой функционал, состояние при этом сохраняется,
но преобразуется в `Just(value)`, если `value` не `null/undefined`, или в `Nothing()`.
```js
Guards(1)
.toMaybe() // перешли в другую монаду, Just(1)
.do(doSomething)
```

### toMonad
Смена монады, бывает удобно, если нужен другой функционал, состояние при этом сохраняется
```js
Guards(1)
.toMonad() // перешли в другую монаду, состояние осталось 1
.do(doSomething)
```

### when
Выполняет действие по условию, после выполнения переходит в состояние завершенности
и не выполняет другие `when`.
```js
Guards(1)
.when(equals(1), x => x*5) // условие истинно, состояние будет 5
.when(equals(5), x => -x) // В отличие от Monad с ifDo, это условие не будет выполнено, тк монада уже завершена
```

### otherwise
Если ни одно из условий `when` не было выполнено, то выполняется `otherwise`. 
`otherwise` завершает монаду, поэтому должен идти после всех `when`.
```js
Guards(1)
.when(greater(5), doSomething)
.otherwise(doThis) // выполнится, тк ни одно из условий выше не подошло
```
